"use strict";var app=angular.module("alfredMaterial",["ngMaterial","ngRoute","ngLoadScript","ngSanitize"]);app.config(["$mdThemingProvider",function($mdThemingProvider){$mdThemingProvider.theme("default").primaryPalette("deep-purple",{"default":"400"}).accentPalette("amber"),$mdThemingProvider.theme("code").primaryPalette("cyan",{"default":"700"}).accentPalette("pink"),$mdThemingProvider.theme("comics").primaryPalette("red",{"default":"600"}).accentPalette("amber"),$mdThemingProvider.alwaysWatchTheme(!0)}]),app.config(["$locationProvider",function($locationProvider){$locationProvider.html5Mode(!0)}]),app.config(["$routeProvider","$mdThemingProvider",function($routeProvider,$mdThemingProvider){$routeProvider.when("/",{templateUrl:"/views/home/home.html",title:"Home",theme:"default",iconColor:"#7E57C2"}).when("/code",{templateUrl:"/views/projects/projects.html",title:"Code",theme:"code",iconColor:"#0097A7"}).when("/comics",{templateUrl:"/views/library/library.html",title:"Library",theme:"comics",iconColor:"#E53935"}).when("/resume",{redirectTo:function(){$window.location.href="/resume"}}).when("/old",{redirectTo:function(){$window.location.href="/old"}}).when("/mean",{redirectTo:function(){$window.location.href="/mean"}}).otherwise({redirectTo:"/"})}]),app.config(["$mdIconProvider",function($mdIconProvider){$mdIconProvider.icon("demo","icons/desktop mac.svg").icon("github","icons/github.svg").icon("comic","icons/dashboard.svg").icon("code","icons/code.svg").icon("resume","icons/description.svg").icon("home","icons/home.svg").icon("info","icons/info.svg")}]),app.run(["$http","$templateCache",function($http,$templateCache){var iconUrls=["icons/desktop mac.svg","icons/github.svg","icons/dashboard.svg","icons/code.svg","icons/description.svg","icons/home.svg","icons/info.svg"];angular.forEach(iconUrls,function(url){$http.get(url,{cache:$templateCache})})}]),app.controller("AppCtrl",["$scope","$log","$location",function($scope,$log,$location){$scope.$on("$routeChangeSuccess",function(event,data){$scope.theme=data.theme})}]),app.controller("NavCtrl",["$scope","$location","$mdSidenav","$log","$window",function($scope,$location,$mdSidenav,$log,$window){$scope.$on("$routeChangeSuccess",function(event,data){$scope.pageTitle=data.title,$scope.iconColor=data.iconColor}),$scope.navLinks=[{name:"Home",url:"/",icon:"home"},{name:"Code",url:"/code",icon:"code"},{name:"Library",url:"/comics",icon:"comic"},{name:"Resume",url:"/resume",icon:"resume"}],$scope.toggleSideMenu=function(){$mdSidenav("sideNav").toggle().then(function(){if($mdSidenav("sideNav").isOpen()){var backdropElement=document.getElementsByClassName("md-sidenav-backdrop");backdropElement&&backdropElement[0].addEventListener("click",function(){animateToMenu()})}})},$scope.navigateTo=function(url){"/resume"==url?$window.location.href=url:$location.path(url)}}]),app.controller("ProjectsCtrl",["$scope","$timeout","$mdSidenav","$log","$mdDialog","$sce",function($scope,$timeout,$mdSidenav,$log,$mdDialog,$sce){$scope.allProjects={mdSite:{name:"Alfred Material",screenshot:"/imgs/projects/md-site-cover.jpg",description:"",repository:"https://github.com/alfred/material-website",demoLink:"http://alfredabab.io",tech:[],learned:"",darkOverlay:!0},ef:{name:"Exemption Check",screenshot:"/imgs/projects/ef.png",description:"",repository:"",info:$sce.trustAsHtml("TurboTax Exemption Check is a tool for customers to find out whether they are exempt from the healthcare penalty for that tax year. While working on Exemption Check, I was an engineer responsible for implementing cross-device data persistence. This allowed customers to start the application on one device and sign out, and then sign back in on a second deviceand complete their application where they left off.</p><p>I was also part of the small team that was tasked with a massive rewrite of the tool once the Affordable Care Act law changed to allow one form per household instead of one form per member of the household. This required rapid implementation of features and also required that we didn’t break the core functionality as that was still the primary use-case.</p><p>I was a full-stack engineer, as I worked with the backend services as much as I was doing CSS tweaks on the frontend which required comprehensive unit tests for both. During peak times I was also responsible for monitoring our Splunk logs for service outtages and errors."),demoLink:"https://turbotax.intuit.com/health-care/exemptions",tech:[],learned:"",darkOverlay:!0},oldSite:{name:"Old Website",screenshot:"/imgs/projects/old-s.png",description:"",repository:"https://github.com/alfred/Website",demoLink:"/old",tech:[],learned:"https://github.com/alfred/Website"},mean:{name:"MEAN Skeleton",screenshot:"/imgs/projects/md-orange-pyramids.png",description:"",repository:"https://github.com/alfred/mean-skeleton",demoLink:"/mean",tech:[],learned:""},moderator:{name:"Cengage Moderator",screenshot:"/imgs/projects/md-teal-tri.jpg",description:"",repository:"",info:$sce.trustAsHtml("While working on Cengage Moderator, I was on a small team of engineers who had a lot of freedom over the architecture and technology used to create a question and answer application for the company to use to ask questions of the CTO during his office hours.</p><p>I was responsible for architecting the user model. This means that I implemented user account creation, user sessions and account recovery. All of my solutions were created in-house as the popular Ruby gem, “devise” was too heavy for the simplicity of the project. A long with user accounts, I also implemented user profiles and access levels for roles.</p><p> Due to the nature of the application, we had many nested data-models and my team had to teach ourselves relational data models. For example, we used many-to-many for users favoriting and voting on questions, so that a user could browse their favorite questions. I also set up automated unit and integration testing suites and wrote some of the frontend interactions."),demoLink:"http://moderator.cengage.com",tech:[],learned:""},cssLogos:{name:"CSS Logos",screenshot:"/imgs/projects/md-grey-circle.png",description:"",repository:"https://github.com/alfred/css-logos",demoLink:"http://alfred.github.io/css-logos/",tech:[],learned:""}},$scope.openProjectInfo=function(ev,name){var bodyElement=angular.element(document.body),thisProject=$scope.allProjects[name],dialogContent=$mdDialog.alert({parent:bodyElement,targetEvent:ev,template:'<md-dialog>  <md-toolbar>   <div class="md-toolbar-tools">     <h2>{{project.name}}</h2>   </div>  </md-toolbar>  <md-dialog-content>    <p class="intent-p" ng-bind-html="project.info"></p>  </md-dialog-content>  <div class="md-actions">    <md-button ng-click="closeProjectInfo()" class="md-primary">      Impressive!    </md-button>  </div></md-dialog>',clickOutsideToClose:!0,escapeToClose:!0,locals:{project:thisProject},controller:function($scope,$mdDialog,project){$scope.project=project,$scope.closeProjectInfo=function(){$mdDialog.hide()}}});$mdDialog.show(dialogContent).then(function(){})}}]),app.directive("projImg",function(){return function(scope,element,attrs){attrs.$observe("projImg",function(value){element.css({"background-image":"url("+value+")"})})}}),app.controller("HomeCtrl",["$scope","$sce","$window",function($scope,$sce,$window){$scope.hobbies=[{name:"Longboarder",desc:$sce.trustAsHtml("I learned to ride about a year ago, and learning might have been one of the  best things I've ever done. It's a really fun way to get around and an even better way to stay active.</p><p> I even managed to design a decal and paint it onto my board!")},{name:"Comic Reader",desc:$sce.trustAsHtml("I'm a huge DC comics fan. I can appreciate the amount of work that goes into building a multiverse.</p><p>There are so many moving parts to factor in and it's amazing to see how authors can continue to innovate the characters and present their fans with new topics to think about every issue."),link:"#comics"},{name:"Developer",desc:$sce.trustAsHtml('I\'m a full-stack web developer who happens to write lots of Javascript. </p><p>I started off building apps with Ruby on Rails and have moved on to Node and Express. What you\'re looking at right now was actually built with Node and Express, and a generous amount of Angular. Check out my other work <a style="text-decoration:none" href="/code">here</a>'),link:""}],$scope.contactInfos=[{id:"btn-twitter",label:"TWITTER",url:"https://twitter.com/alfredabab_io"},{id:"btn-github",label:"GITHUB",url:"https://github.com/alfred"},{id:"btn-linkedin",label:"LINKEDIN",url:"https://www.linkedin.com/in/alfredababio/en"},{id:"btn-email",label:"EMAIL",url:"mailto:aababio75@gmail.com"}],$scope.aboutText={intro:"Hi, I'm Alfred.",body:$sce.trustAsHtml("I'm a Computer Science student at Northeastern, an amateur pool (pocket billiards) player, and a firm believer that anyone can learn to do anything by Googling it long enough.</p><p>Also, my friends think I'm a pretty cool guy (even though they'll deny it after reading this.)")};var initialize=function(){window.addEventListener("resize",resizeImages),window.innerWidth<=768&&(console.log("In Mobile"),window.onload=resizeImages(),resizeImages(),console.log("Resized"))},resizeImages=function(){if(!(window.innerWidth>768)){var myPicture=document.querySelector("#about > .card-image"),codePicture=document.querySelector("#developer > .card-image"),longboardPicture=document.querySelector("#longboard > .card-image"),comicsPicture=document.querySelector("#comics > .card-image"),myRatio=165/304;myPicture.style.maxHeight=""+myPicture.clientWidth*myRatio+"px",codePicture.style.maxHeight=""+codePicture.clientWidth*myRatio+"px",longboardPicture.style.maxHeight=""+longboardPicture.clientWidth*myRatio+"px",comicsPicture.style.maxHeight=""+comicsPicture.clientWidth*myRatio+"px"}};initialize()}]),function(ng){var app=ng.module("ngLoadScript",[]);app.directive("script",function(){return{restrict:"E",scope:!1,link:function(scope,elem,attr){if("text/javascript-lazy"===attr.type){var s=document.createElement("script");s.type="text/javascript";var src=elem.attr("src");if(void 0!==src)s.src=src;else{var code=elem.text();s.text=code}document.head.appendChild(s),elem.remove()}}}})}(angular);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFsZnJlZC1tYXRlcmlhbC5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29uZmlnIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImRlZmF1bHQiLCJhY2NlbnRQYWxldHRlIiwiYWx3YXlzV2F0Y2hUaGVtZSIsIiRsb2NhdGlvblByb3ZpZGVyIiwiaHRtbDVNb2RlIiwiJHJvdXRlUHJvdmlkZXIiLCJ3aGVuIiwidGVtcGxhdGVVcmwiLCJ0aXRsZSIsImljb25Db2xvciIsInJlZGlyZWN0VG8iLCIkd2luZG93IiwibG9jYXRpb24iLCJocmVmIiwib3RoZXJ3aXNlIiwiJG1kSWNvblByb3ZpZGVyIiwiaWNvbiIsInJ1biIsIiRodHRwIiwiJHRlbXBsYXRlQ2FjaGUiLCJpY29uVXJscyIsImZvckVhY2giLCJ1cmwiLCJnZXQiLCJjYWNoZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCIkbG9nIiwiJGxvY2F0aW9uIiwiJG9uIiwiZXZlbnQiLCJkYXRhIiwiJG1kU2lkZW5hdiIsInBhZ2VUaXRsZSIsIm5hdkxpbmtzIiwibmFtZSIsInRvZ2dsZVNpZGVNZW51IiwidG9nZ2xlIiwidGhlbiIsImlzT3BlbiIsImJhY2tkcm9wRWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJhbmltYXRlVG9NZW51IiwibmF2aWdhdGVUbyIsInBhdGgiLCIkdGltZW91dCIsIiRtZERpYWxvZyIsIiRzY2UiLCJhbGxQcm9qZWN0cyIsIm1kU2l0ZSIsInNjcmVlbnNob3QiLCJkZXNjcmlwdGlvbiIsInJlcG9zaXRvcnkiLCJkZW1vTGluayIsInRlY2giLCJsZWFybmVkIiwiZGFya092ZXJsYXkiLCJlZiIsImluZm8iLCJ0cnVzdEFzSHRtbCIsIm9sZFNpdGUiLCJtZWFuIiwibW9kZXJhdG9yIiwiY3NzTG9nb3MiLCJvcGVuUHJvamVjdEluZm8iLCJldiIsImJvZHlFbGVtZW50IiwiZWxlbWVudCIsImJvZHkiLCJ0aGlzUHJvamVjdCIsImRpYWxvZ0NvbnRlbnQiLCJhbGVydCIsInBhcmVudCIsInRhcmdldEV2ZW50IiwidGVtcGxhdGUiLCJjbGlja091dHNpZGVUb0Nsb3NlIiwiZXNjYXBlVG9DbG9zZSIsImxvY2FscyIsInByb2plY3QiLCJjbG9zZVByb2plY3RJbmZvIiwiaGlkZSIsInNob3ciLCJkaXJlY3RpdmUiLCJzY29wZSIsImF0dHJzIiwiJG9ic2VydmUiLCJ2YWx1ZSIsImNzcyIsImJhY2tncm91bmQtaW1hZ2UiLCJob2JiaWVzIiwiZGVzYyIsImxpbmsiLCJjb250YWN0SW5mb3MiLCJpZCIsImxhYmVsIiwiYWJvdXRUZXh0IiwiaW50cm8iLCJpbml0aWFsaXplIiwid2luZG93IiwicmVzaXplSW1hZ2VzIiwiaW5uZXJXaWR0aCIsImNvbnNvbGUiLCJsb2ciLCJvbmxvYWQiLCJteVBpY3R1cmUiLCJxdWVyeVNlbGVjdG9yIiwiY29kZVBpY3R1cmUiLCJsb25nYm9hcmRQaWN0dXJlIiwiY29taWNzUGljdHVyZSIsIm15UmF0aW8iLCJzdHlsZSIsIm1heEhlaWdodCIsImNsaWVudFdpZHRoIiwibmciLCJyZXN0cmljdCIsImVsZW0iLCJhdHRyIiwidHlwZSIsInMiLCJjcmVhdGVFbGVtZW50Iiwic3JjIiwidW5kZWZpbmVkIiwiY29kZSIsInRleHQiLCJoZWFkIiwiYXBwZW5kQ2hpbGQiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUEsSUFBQUEsS0FBQUMsUUFBQUMsT0FBQSxrQkFBQSxhQUFBLFVBQUEsZUFBQSxjQUdBRixLQUFBRyxRQUFBLHFCQUFBLFNBQUFDLG9CQUNBQSxtQkFBQUMsTUFBQSxXQUNBQyxlQUFBLGVBQ0FDLFVBQUEsUUFFQUMsY0FBQSxTQUVBSixtQkFBQUMsTUFBQSxRQUNBQyxlQUFBLFFBQ0FDLFVBQUEsUUFFQUMsY0FBQSxRQUVBSixtQkFBQUMsTUFBQSxVQUNBQyxlQUFBLE9BQ0FDLFVBQUEsUUFFQUMsY0FB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QUFBLFNBQ0FELEdBQUFELEtBQUEsaUJBQ0EsSUFBQUcsS0FBQUwsS0FBQUMsS0FBQSxNQUNBLElBQUFLLFNBQUFELElBRUFGLEVBQUFFLElBQUFBLFFBR0EsQ0FDQSxHQUFBRSxNQUFBUCxLQUFBUSxNQUNBTCxHQUFBSyxLQUFBRCxLQUVBbkYsU0FBQXFGLEtBQUFDLFlBQUFQLEdBQ0FILEtBQUFXLGVBTUF0SSIsImZpbGUiOiJhbGZyZWQtbWF0ZXJpYWwubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnXHJcblxyXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FsZnJlZE1hdGVyaWFsJywgWyduZ01hdGVyaWFsJywgJ25nUm91dGUnLCAnbmdMb2FkU2NyaXB0JywgJ25nU2FuaXRpemUnXSk7XHJcblxyXG5cclxuYXBwLmNvbmZpZyhmdW5jdGlvbigkbWRUaGVtaW5nUHJvdmlkZXIpIHtcclxuICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2RlZmF1bHQnKVxyXG4gIC5wcmltYXJ5UGFsZXR0ZSgnZGVlcC1wdXJwbGUnLCB7XHJcbiAgICAnZGVmYXVsdCc6ICc0MDAnXHJcbiAgfSlcclxuICAuYWNjZW50UGFsZXR0ZSgnYW1iZXInKTtcclxuXHJcbiAgJG1kVGhlbWluZ1Byb3ZpZGVyLnRoZW1lKCdjb2RlJylcclxuICAucHJpbWFyeVBhbGV0dGUoJ2N5YW4nLCB7XHJcbiAgICAnZGVmYXVsdCcgOic3MDAnXHJcbiAgfSlcclxuICAuYWNjZW50UGFsZXR0ZSgncGluaycpO1xyXG5cclxuICAkbWRUaGVtaW5nUHJvdmlkZXIudGhlbWUoJ2NvbWljcycpXHJcbiAgLnByaW1hcnlQYWxldHRlKCdyZWQnLCB7XHJcbiAgICAnZGVmYXVsdCc6ICc2MDAnXHJcbiAgfSlcclxuICAuYWNjZW50UGFsZXR0ZSgnYW1iZXInKTtcclxuXHJcbiAgJG1kVGhlbWluZ1Byb3ZpZGVyLmFsd2F5c1dhdGNoVGhlbWUodHJ1ZSk7XHJcbn0pO1xyXG5cclxuYXBwLmNvbmZpZyhmdW5jdGlvbigkbG9jYXRpb25Qcm92aWRlcikge1xyXG4gICRsb2NhdGlvblByb3ZpZGVyLmh0bWw1TW9kZSh0cnVlKTtcclxufSk7XHJcblxyXG5hcHAuY29uZmlnKGZ1bmN0aW9uKCRyb3V0ZVByb3ZpZGVyLCAkbWRUaGVtaW5nUHJvdmlkZXIpIHtcclxuICAkcm91dGVQcm92aWRlclxyXG4gICAgLndoZW4oJy8nLCB7XHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL2hvbWUvaG9tZS5odG1sJyxcclxuICAgICAgdGl0bGU6ICdIb21lJyxcclxuICAgICAgdGhlbWU6ICdkZWZhdWx0JyxcclxuICAgICAgaWNvbkNvbG9yOiAnIzdFNTdDMidcclxuICAgIH0pXHJcbiAgICAud2hlbignL2NvZGUnLCB7XHJcbiAgICAgIHRlbXBsYXRlVXJsOiAnL3ZpZXdzL3Byb2plY3RzL3Byb2plY3RzLmh0bWwnLFxyXG4gICAgICB0aXRsZTogJ0NvZGUnLFxyXG4gICAgICB0aGVtZTogJ2NvZGUnLFxyXG4gICAgICBpY29uQ29sb3I6ICcjMDA5N0E3J1xyXG4gICAgfSlcclxuICAgIC53aGVuKCcvY29taWNzJywge1xyXG4gICAgICB0ZW1wbGF0ZVVybDogJy92aWV3cy9saWJyYXJ5L2xpYnJhcnkuaHRtbCcsXHJcbiAgICAgIHRpdGxlOiAnTGlicmFyeScsXHJcbiAgICAgIHRoZW1lOiAnY29taWNzJyxcclxuICAgICAgaWNvbkNvbG9yOiAnI0U1MzkzNSdcclxuICAgIH0pXHJcbiAgICAud2hlbignL3Jlc3VtZScsIHtcclxuICAgICAgcmVkaXJlY3RUbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0nL3Jlc3VtZSc7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAud2hlbignL29sZCcsIHtcclxuICAgICAgcmVkaXJlY3RUbzogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy9vbGQnO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gICAgLndoZW4oJy9tZWFuJywge1xyXG4gICAgICByZWRpcmVjdFRvOiBmdW5jdGlvbigpIHtcclxuICAgICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPScvbWVhbic7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgICAub3RoZXJ3aXNlKHtcclxuICAgICAgcmVkaXJlY3RUbzogJy8nXHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5hcHAuY29uZmlnKGZ1bmN0aW9uKCRtZEljb25Qcm92aWRlcikge1xyXG4gICRtZEljb25Qcm92aWRlclxyXG4gICAgLmljb24oJ2RlbW8nLCAnaWNvbnMvZGVza3RvcFxcIG1hYy5zdmcnKVxyXG4gICAgLmljb24oJ2dpdGh1YicsICdpY29ucy9naXRodWIuc3ZnJylcclxuICAgIC5pY29uKCdjb21pYycsICdpY29ucy9kYXNoYm9hcmQuc3ZnJylcclxuICAgIC5pY29uKCdjb2RlJywgJ2ljb25zL2NvZGUuc3ZnJylcclxuICAgIC5pY29uKCdyZXN1bWUnLCAnaWNvbnMvZGVzY3JpcHRpb24uc3ZnJylcclxuICAgIC5pY29uKCdob21lJywgJ2ljb25zL2hvbWUuc3ZnJylcclxuICAgIC5pY29uKCdpbmZvJywgJ2ljb25zL2luZm8uc3ZnJyk7XHJcbn0pO1xyXG5cclxuYXBwLnJ1bihmdW5jdGlvbigkaHR0cCwgJHRlbXBsYXRlQ2FjaGUpIHtcclxuICB2YXIgaWNvblVybHMgPSBbXHJcbiAgICAnaWNvbnMvZGVza3RvcFxcIG1hYy5zdmcnLFxyXG4gICAgJ2ljb25zL2dpdGh1Yi5zdmcnLFxyXG4gICAgJ2ljb25zL2Rhc2hib2FyZC5zdmcnLFxyXG4gICAgJ2ljb25zL2NvZGUuc3ZnJyxcclxuICAgICdpY29ucy9kZXNjcmlwdGlvbi5zdmcnLFxyXG4gICAgJ2ljb25zL2hvbWUuc3ZnJyxcclxuICAgICdpY29ucy9pbmZvLnN2ZydcclxuICBdO1xyXG5cclxuICBhbmd1bGFyLmZvckVhY2goaWNvblVybHMsIGZ1bmN0aW9uKHVybCkge1xyXG4gICAgJGh0dHAuZ2V0KHVybCwge2NhY2hlOiAkdGVtcGxhdGVDYWNoZX0pO1xyXG4gIH0pO1xyXG59KTtcclxuXHJcbmFwcC5jb250cm9sbGVyKCdBcHBDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkbG9nLCAkbG9jYXRpb24pIHtcclxuICAkc2NvcGUuJG9uKCckcm91dGVDaGFuZ2VTdWNjZXNzJywgZnVuY3Rpb24oZXZlbnQsIGRhdGEpIHtcclxuICAgICRzY29wZS50aGVtZSA9IGRhdGEudGhlbWU7XHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuYXBwLmNvbnRyb2xsZXIoJ05hdkN0cmwnLCBmdW5jdGlvbigkc2NvcGUsICRsb2NhdGlvbiwgJG1kU2lkZW5hdiwgJGxvZywgJHdpbmRvdykge1xyXG4gICRzY29wZS4kb24oJyRyb3V0ZUNoYW5nZVN1Y2Nlc3MnLCBmdW5jdGlvbiAoZXZlbnQsIGRhdGEpIHtcclxuICAgICRzY29wZS5wYWdlVGl0bGUgPSBkYXRhLnRpdGxlO1xyXG4gICAgJHNjb3BlLmljb25Db2xvciA9IGRhdGEuaWNvbkNvbG9yO1xyXG4gIH0pO1xyXG5cclxuICAkc2NvcGUubmF2TGlua3MgPSBbe1xyXG4gICAgbmFtZTogJ0hvbWUnLFxyXG4gICAgdXJsOiAnLycsXHJcbiAgICBpY29uOiAnaG9tZSdcclxuICB9LHtcclxuICAgIG5hbWU6ICdDb2RlJyxcclxuICAgIHVybDogJy9jb2RlJyxcclxuICAgIGljb246ICdjb2RlJ1xyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdMaWJyYXJ5JyxcclxuICAgIHVybDogJy9jb21pY3MnLFxyXG4gICAgaWNvbjogJ2NvbWljJ1xyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdSZXN1bWUnLFxyXG4gICAgdXJsOiAnL3Jlc3VtZScsXHJcbiAgICBpY29uOiAncmVzdW1lJ1xyXG4gIH1dO1xyXG4gIFxyXG4gICRzY29wZS50b2dnbGVTaWRlTWVudSA9IGZ1bmN0aW9uKCkge1xyXG4gICAgJG1kU2lkZW5hdignc2lkZU5hdicpLnRvZ2dsZSgpXHJcbiAgICAudGhlbihmdW5jdGlvbigpe1xyXG4gICAgICBpZiAoJG1kU2lkZW5hdignc2lkZU5hdicpLmlzT3BlbigpKSB7XHJcbiAgICAgICAgdmFyIGJhY2tkcm9wRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ21kLXNpZGVuYXYtYmFja2Ryb3AnKTtcclxuICAgICAgICBpZihiYWNrZHJvcEVsZW1lbnQpIHtcclxuICAgICAgICAgIGJhY2tkcm9wRWxlbWVudFswXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBhbmltYXRlVG9NZW51KCk7XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH07XHJcblxyXG4gICRzY29wZS5uYXZpZ2F0ZVRvID0gZnVuY3Rpb24odXJsKSB7XHJcbiAgICBpZiAodXJsID09ICcvcmVzdW1lJykge1xyXG4gICAgICAkd2luZG93LmxvY2F0aW9uLmhyZWYgPSB1cmw7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkbG9jYXRpb24ucGF0aCh1cmwpOyAgICAgIFxyXG4gICAgfVxyXG5cclxuICB9O1xyXG59KTtcclxuXG5hcHAuY29udHJvbGxlcignUHJvamVjdHNDdHJsJywgZnVuY3Rpb24oJHNjb3BlLCAkdGltZW91dCwgJG1kU2lkZW5hdiwgJGxvZywgJG1kRGlhbG9nLCAkc2NlKSB7XG5cbiAgJHNjb3BlLmFsbFByb2plY3RzID0ge1xuICAgICdtZFNpdGUnOiB7XG4gICAgICBcIm5hbWVcIjogXCJBbGZyZWQgTWF0ZXJpYWxcIixcbiAgICAgIFwic2NyZWVuc2hvdFwiOiAnL2ltZ3MvcHJvamVjdHMvbWQtc2l0ZS1jb3Zlci5qcGcnLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiAnJyxcbiAgICAgIFwicmVwb3NpdG9yeVwiOiAnaHR0cHM6Ly9naXRodWIuY29tL2FsZnJlZC9tYXRlcmlhbC13ZWJzaXRlJyxcbiAgICAgIFwiZGVtb0xpbmtcIjogJ2h0dHA6Ly9hbGZyZWRhYmFiLmlvJyxcbiAgICAgIFwidGVjaFwiOiBbXSxcbiAgICAgIFwibGVhcm5lZFwiOiAnJyxcbiAgICAgIFwiZGFya092ZXJsYXlcIjogdHJ1ZVxuICAgIH0sXG4gICAgJ2VmJzoge1xuICAgICAgXCJuYW1lXCI6IFwiRXhlbXB0aW9uIENoZWNrXCIsXG4gICAgICBcInNjcmVlbnNob3RcIjogJy9pbWdzL3Byb2plY3RzL2VmLnBuZycsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6ICcnLFxuICAgICAgXCJyZXBvc2l0b3J5XCI6ICcnLFxuICAgICAgXCJpbmZvXCI6ICRzY2UudHJ1c3RBc0h0bWwoJ1R1cmJvVGF4IEV4ZW1wdGlvbiBDaGVjayBpcyBhIHRvb2wgZm9yIGN1c3RvbWVycyB0byBmaW5kIG91dCB3aGV0aGVyIHRoZXkgYXJlIGV4ZW1wdCBmcm9tIHRoZSBoZWFsdGhjYXJlIHBlbmFsdHkgZm9yIHRoYXQgdGF4IHllYXIuICcgKyBcbiAgICAgICAgICAgICAgICAnV2hpbGUgd29ya2luZyBvbiBFeGVtcHRpb24gQ2hlY2ssIEkgd2FzIGFuIGVuZ2luZWVyIHJlc3BvbnNpYmxlIGZvciBpbXBsZW1lbnRpbmcgY3Jvc3MtZGV2aWNlIGRhdGEgcGVyc2lzdGVuY2UuICcgKyBcbiAgICAgICAgICAgICAgICAnVGhpcyBhbGxvd2VkIGN1c3RvbWVycyB0byBzdGFydCB0aGUgYXBwbGljYXRpb24gb24gb25lIGRldmljZSBhbmQgc2lnbiBvdXQsIGFuZCB0aGVuIHNpZ24gYmFjayBpbiBvbiBhIHNlY29uZCBkZXZpY2UnICsgXG4gICAgICAgICAgICAgICAgJ2FuZCBjb21wbGV0ZSB0aGVpciBhcHBsaWNhdGlvbiB3aGVyZSB0aGV5IGxlZnQgb2ZmLjwvcD48cD4nK1xuICAgICAgICAgICAgICAgJ0kgd2FzIGFsc28gcGFydCBvZiB0aGUgc21hbGwgdGVhbSB0aGF0IHdhcyB0YXNrZWQgd2l0aCBhIG1hc3NpdmUgcmV3cml0ZSBvZiB0aGUgdG9vbCBvbmNlIHRoZSBBZmZvcmRhYmxlIENhcmUgQWN0ICcgKyBcbiAgICAgICAgICAgICAgICAnbGF3IGNoYW5nZWQgdG8gYWxsb3cgb25lIGZvcm0gcGVyIGhvdXNlaG9sZCBpbnN0ZWFkIG9mIG9uZSBmb3JtIHBlciBtZW1iZXIgb2YgdGhlIGhvdXNlaG9sZC4gVGhpcyByZXF1aXJlZCByYXBpZCAnICsgXG4gICAgICAgICAgICAgICAgJ2ltcGxlbWVudGF0aW9uIG9mIGZlYXR1cmVzIGFuZCBhbHNvIHJlcXVpcmVkIHRoYXQgd2UgZGlkbuKAmXQgYnJlYWsgdGhlIGNvcmUgZnVuY3Rpb25hbGl0eSBhcyB0aGF0IHdhcyBzdGlsbCB0aGUgcHJpbWFyeSB1c2UtY2FzZS48L3A+PHA+JyArXG4gICAgICAgICAgICAgICAnSSB3YXMgYSBmdWxsLXN0YWNrIGVuZ2luZWVyLCBhcyBJIHdvcmtlZCB3aXRoIHRoZSBiYWNrZW5kIHNlcnZpY2VzIGFzIG11Y2ggYXMgSSB3YXMgZG9pbmcgQ1NTIHR3ZWFrcyBvbiB0aGUgZnJvbnRlbmQgd2hpY2gnICsgXG4gICAgICAgICAgICAgICAnIHJlcXVpcmVkIGNvbXByZWhlbnNpdmUgdW5pdCB0ZXN0cyBmb3IgYm90aC4gRHVyaW5nIHBlYWsgdGltZXMgSSB3YXMgYWxzbyByZXNwb25zaWJsZSBmb3IgbW9uaXRvcmluZyBvdXIgU3BsdW5rIGxvZ3MgZm9yIHNlcnZpY2Ugb3V0dGFnZXMgYW5kIGVycm9ycy4nKSxcbiAgICAgIFwiZGVtb0xpbmtcIjogJ2h0dHBzOi8vdHVyYm90YXguaW50dWl0LmNvbS9oZWFsdGgtY2FyZS9leGVtcHRpb25zJyxcbiAgICAgIFwidGVjaFwiOiBbXSxcbiAgICAgIFwibGVhcm5lZFwiOiAnJyxcbiAgICAgIFwiZGFya092ZXJsYXlcIjogdHJ1ZVxuICAgIH0sXG4gICAgJ29sZFNpdGUnOiB7XG4gICAgICBcIm5hbWVcIjogXCJPbGQgV2Vic2l0ZVwiLFxuICAgICAgXCJzY3JlZW5zaG90XCI6ICcvaW1ncy9wcm9qZWN0cy9vbGQtcy5wbmcnLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiAnJyxcbiAgICAgIFwicmVwb3NpdG9yeVwiOiAnaHR0cHM6Ly9naXRodWIuY29tL2FsZnJlZC9XZWJzaXRlJyxcbiAgICAgIFwiZGVtb0xpbmtcIjogJy9vbGQnLFxuICAgICAgXCJ0ZWNoXCI6IFtdLFxuICAgICAgXCJsZWFybmVkXCI6ICdodHRwczovL2dpdGh1Yi5jb20vYWxmcmVkL1dlYnNpdGUnXG4gICAgfSxcbiAgICAnbWVhbic6IHtcbiAgICAgIFwibmFtZVwiOiBcIk1FQU4gU2tlbGV0b25cIixcbiAgICAgIFwic2NyZWVuc2hvdFwiOiAnL2ltZ3MvcHJvamVjdHMvbWQtb3JhbmdlLXB5cmFtaWRzLnBuZycsXG4gICAgICBcImRlc2NyaXB0aW9uXCI6ICcnLFxuICAgICAgXCJyZXBvc2l0b3J5XCI6ICdodHRwczovL2dpdGh1Yi5jb20vYWxmcmVkL21lYW4tc2tlbGV0b24nLFxuICAgICAgXCJkZW1vTGlua1wiOiAnL21lYW4nLFxuICAgICAgXCJ0ZWNoXCI6IFtdLFxuICAgICAgXCJsZWFybmVkXCI6ICcnXG4gICAgfSxcbiAgICAnbW9kZXJhdG9yJzoge1xuICAgICAgXCJuYW1lXCI6IFwiQ2VuZ2FnZSBNb2RlcmF0b3JcIixcbiAgICAgIFwic2NyZWVuc2hvdFwiOiAnL2ltZ3MvcHJvamVjdHMvbWQtdGVhbC10cmkuanBnJyxcbiAgICAgIFwiZGVzY3JpcHRpb25cIjogJycsXG4gICAgICBcInJlcG9zaXRvcnlcIjogJycsXG4gICAgICBcImluZm9cIjogJHNjZS50cnVzdEFzSHRtbCgnV2hpbGUgd29ya2luZyBvbiBDZW5nYWdlIE1vZGVyYXRvciwgSSB3YXMgb24gYSBzbWFsbCB0ZWFtIG9mIGVuZ2luZWVycyB3aG8gaGFkIGEgbG90IG9mIGZyZWVkb20gb3ZlciB0aGUgYXJjaGl0ZWN0dXJlICcgKyBcbiAgICAgICAgICAgICAgICAnYW5kIHRlY2hub2xvZ3kgdXNlZCB0byBjcmVhdGUgYSBxdWVzdGlvbiBhbmQgYW5zd2VyIGFwcGxpY2F0aW9uIGZvciB0aGUgY29tcGFueSB0byB1c2UgdG8gYXNrIHF1ZXN0aW9ucyBvZiB0aGUgQ1RPIGR1cmluZyBoaXMgb2ZmaWNlIGhvdXJzLjwvcD48cD4nICtcbiAgICAgICAgICAgICAgICAnSSB3YXMgcmVzcG9uc2libGUgZm9yIGFyY2hpdGVjdGluZyB0aGUgdXNlciBtb2RlbC4gVGhpcyBtZWFucyB0aGF0IEkgaW1wbGVtZW50ZWQgdXNlciBhY2NvdW50IGNyZWF0aW9uLCB1c2VyIHNlc3Npb25zIGFuZCAnICsgXG4gICAgICAgICAgICAgICAgJ2FjY291bnQgcmVjb3ZlcnkuIEFsbCBvZiBteSBzb2x1dGlvbnMgd2VyZSBjcmVhdGVkIGluLWhvdXNlIGFzIHRoZSBwb3B1bGFyIFJ1YnkgZ2VtLCDigJxkZXZpc2XigJ0gd2FzIHRvbyBoZWF2eSBmb3IgdGhlIHNpbXBsaWNpdHkgb2YgdGhlIHByb2plY3QuICcgKyBcbiAgICAgICAgICAgICAgICAnQSBsb25nIHdpdGggdXNlciBhY2NvdW50cywgSSBhbHNvIGltcGxlbWVudGVkIHVzZXIgcHJvZmlsZXMgYW5kIGFjY2VzcyBsZXZlbHMgZm9yIHJvbGVzLjwvcD48cD4gJyArXG4gICAgICAgICAgICAgICAgJ0R1ZSB0byB0aGUgbmF0dXJlIG9mIHRoZSBhcHBsaWNhdGlvbiwgd2UgaGFkIG1hbnkgbmVzdGVkIGRhdGEtbW9kZWxzIGFuZCBteSB0ZWFtIGhhZCB0byB0ZWFjaCAnICsgXG4gICAgICAgICAgICAgICAgJ291cnNlbHZlcyByZWxhdGlvbmFsIGRhdGEgbW9kZWxzLiBGb3IgZXhhbXBsZSwgd2UgdXNlZCBtYW55LXRvLW1hbnkgZm9yIHVzZXJzIGZhdm9yaXRpbmcgYW5kIHZvdGluZyAnICsgXG4gICAgICAgICAgICAgICAgJ29uIHF1ZXN0aW9ucywgc28gdGhhdCBhIHVzZXIgY291bGQgYnJvd3NlIHRoZWlyIGZhdm9yaXRlIHF1ZXN0aW9ucy4gSSBhbHNvIHNldCB1cCBhdXRvbWF0ZWQgdW5pdCBhbmQgJyArIFxuICAgICAgICAgICAgICAgICdpbnRlZ3JhdGlvbiB0ZXN0aW5nIHN1aXRlcyBhbmQgd3JvdGUgc29tZSBvZiB0aGUgZnJvbnRlbmQgaW50ZXJhY3Rpb25zLicpLFxuICAgICAgXCJkZW1vTGlua1wiOiAnaHR0cDovL21vZGVyYXRvci5jZW5nYWdlLmNvbScsXG4gICAgICBcInRlY2hcIjogW10sXG4gICAgICBcImxlYXJuZWRcIjogJydcbiAgICB9LFxuICAgICdjc3NMb2dvcyc6IHtcbiAgICAgIFwibmFtZVwiOiBcIkNTUyBMb2dvc1wiLFxuICAgICAgXCJzY3JlZW5zaG90XCI6ICcvaW1ncy9wcm9qZWN0cy9tZC1ncmV5LWNpcmNsZS5wbmcnLFxuICAgICAgXCJkZXNjcmlwdGlvblwiOiAnJyxcbiAgICAgIFwicmVwb3NpdG9yeVwiOiAnaHR0cHM6Ly9naXRodWIuY29tL2FsZnJlZC9jc3MtbG9nb3MnLFxuICAgICAgXCJkZW1vTGlua1wiOiAnaHR0cDovL2FsZnJlZC5naXRodWIuaW8vY3NzLWxvZ29zLycsXG4gICAgICBcInRlY2hcIjogW10sXG4gICAgICBcImxlYXJuZWRcIjogJydcbiAgICB9XG4gIH07XG5cbiAgJHNjb3BlLm9wZW5Qcm9qZWN0SW5mbyA9IGZ1bmN0aW9uKGV2LCBuYW1lKSB7XG4gICAgdmFyIGJvZHlFbGVtZW50ID0gYW5ndWxhci5lbGVtZW50KGRvY3VtZW50LmJvZHkpO1xuICAgIHZhciB0aGlzUHJvamVjdCA9ICRzY29wZS5hbGxQcm9qZWN0c1tuYW1lXTtcbiAgICB2YXIgZGlhbG9nQ29udGVudCA9ICRtZERpYWxvZy5hbGVydCh7XG4gICAgICBwYXJlbnQ6IGJvZHlFbGVtZW50LFxuICAgICAgdGFyZ2V0RXZlbnQ6IGV2LFxuICAgICAgdGVtcGxhdGU6XG4gICAgICAgICAgICAnPG1kLWRpYWxvZz4nICtcbiAgICAgICAgICAgICcgIDxtZC10b29sYmFyPicgKyBcbiAgICAgICAgICAgICcgICA8ZGl2IGNsYXNzPVwibWQtdG9vbGJhci10b29sc1wiPicgK1xuICAgICAgICAgICAgJyAgICAgPGgyPnt7cHJvamVjdC5uYW1lfX08L2gyPicgK1xuICAgICAgICAgICAgJyAgIDwvZGl2PicgK1xuICAgICAgICAgICAgJyAgPC9tZC10b29sYmFyPicgK1xuICAgICAgICAgICAgJyAgPG1kLWRpYWxvZy1jb250ZW50PicrXG4gICAgICAgICAgICAnICAgIDxwIGNsYXNzPVwiaW50ZW50LXBcIiBuZy1iaW5kLWh0bWw9XCJwcm9qZWN0LmluZm9cIj48L3A+JyArXG4gICAgICAgICAgICAnICA8L21kLWRpYWxvZy1jb250ZW50PicgK1xuICAgICAgICAgICAgJyAgPGRpdiBjbGFzcz1cIm1kLWFjdGlvbnNcIj4nICtcbiAgICAgICAgICAgICcgICAgPG1kLWJ1dHRvbiBuZy1jbGljaz1cImNsb3NlUHJvamVjdEluZm8oKVwiIGNsYXNzPVwibWQtcHJpbWFyeVwiPicgK1xuICAgICAgICAgICAgJyAgICAgIEltcHJlc3NpdmUhJyArXG4gICAgICAgICAgICAnICAgIDwvbWQtYnV0dG9uPicgK1xuICAgICAgICAgICAgJyAgPC9kaXY+JyArXG4gICAgICAgICAgICAnPC9tZC1kaWFsb2c+JyxcbiAgICAgIGNsaWNrT3V0c2lkZVRvQ2xvc2U6IHRydWUsXG4gICAgICBlc2NhcGVUb0Nsb3NlOiB0cnVlLFxuICAgICAgbG9jYWxzOiAge1xuICAgICAgICBwcm9qZWN0IDogdGhpc1Byb2plY3RcbiAgICAgIH0sXG4gICAgICBjb250cm9sbGVyOiBmdW5jdGlvbiBEaWFsb2dDb250cm9sbGVyKCRzY29wZSwgJG1kRGlhbG9nLCBwcm9qZWN0KSB7XG4gICAgICAgICRzY29wZS5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgJHNjb3BlLmNsb3NlUHJvamVjdEluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkbWREaWFsb2cuaGlkZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgJG1kRGlhbG9nLnNob3coZGlhbG9nQ29udGVudCkudGhlbihmdW5jdGlvbigpIHtcblxuICAgIH0pO1xuICB9O1xuICBcbn0pO1xuYXBwLmRpcmVjdGl2ZSgncHJvakltZycsIGZ1bmN0aW9uKCl7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHNjb3BlLCBlbGVtZW50LCBhdHRycyl7XG4gICAgICAgIGF0dHJzLiRvYnNlcnZlKCdwcm9qSW1nJywgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuY3NzKHtcbiAgICAgICAgICAgICAgICAnYmFja2dyb3VuZC1pbWFnZSc6ICd1cmwoJyArIHZhbHVlICsnKSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5hcHAuY29udHJvbGxlcignSG9tZUN0cmwnLCBmdW5jdGlvbiggJHNjb3BlLCAkc2NlLCAkd2luZG93ICkge1xuICAkc2NvcGUuaG9iYmllcyA9IFt7XG4gICAgbmFtZTogXCJMb25nYm9hcmRlclwiLFxuICAgIGRlc2M6ICRzY2UudHJ1c3RBc0h0bWwoXCJJIGxlYXJuZWQgdG8gcmlkZSBhYm91dCBhIHllYXIgYWdvLCBhbmQgbGVhcm5pbmcgbWlnaHQgaGF2ZSBiZWVuIG9uZSBvZiB0aGVcIiArXG4gICAgICAgICAgXCIgIGJlc3QgdGhpbmdzIElcXCd2ZSBldmVyIGRvbmUuIEl0XFwncyBhIHJlYWxseSBmdW4gd2F5IHRvIGdldFwiICtcbiAgICAgICAgICBcIiBhcm91bmQgYW5kIGFuIGV2ZW4gYmV0dGVyIHdheSB0byBzdGF5IGFjdGl2ZS48L3A+PHA+XCIgK1xuICAgICAgICAgIFwiIEkgZXZlbiBtYW5hZ2VkIHRvIGRlc2lnbiBhIGRlY2FsIGFuZCBwYWludCBpdCBvbnRvIG15IGJvYXJkIVwiKSxcbiAgfSx7XG4gICAgbmFtZTogXCJDb21pYyBSZWFkZXJcIixcbiAgICBkZXNjOiAkc2NlLnRydXN0QXNIdG1sKFwiSVxcJ20gYSBodWdlIERDIGNvbWljcyBmYW4uIEkgY2FuIGFwcHJlY2lhdGUgdGhlIGFtb3VudCBvZiB3b3JrIHRoYXQgZ29lcyBpbnRvIGJ1aWxkaW5nIGEgbXVsdGl2ZXJzZS48L3A+XCIgK1xuICAgICAgICAgIFwiPHA+VGhlcmUgYXJlIHNvIG1hbnkgbW92aW5nIHBhcnRzIHRvIGZhY3RvciBpbiBhbmQgaXRcXCdzIGFtYXppbmcgdG8gc2VlIGhvdyBhdXRob3JzIGNhbiBcIiArIFxuICAgICAgICAgIFwiY29udGludWUgdG8gaW5ub3ZhdGUgdGhlIGNoYXJhY3RlcnMgYW5kIHByZXNlbnQgdGhlaXIgZmFucyB3aXRoIG5ldyB0b3BpY3MgdG8gdGhpbmsgYWJvdXQgZXZlcnkgaXNzdWUuXCIpLFxuICAgIGxpbms6IFwiI2NvbWljc1wiXG4gIH0se1xuICAgIG5hbWU6IFwiRGV2ZWxvcGVyXCIsXG4gICAgZGVzYzogJHNjZS50cnVzdEFzSHRtbChcIklcXCdtIGEgZnVsbC1zdGFjayB3ZWIgZGV2ZWxvcGVyIHdobyBoYXBwZW5zIHRvIHdyaXRlIGxvdHMgb2YgSmF2YXNjcmlwdC4gPC9wPlwiICtcbiAgICAgICAgICBcIjxwPkkgc3RhcnRlZCBvZmYgYnVpbGRpbmcgYXBwcyB3aXRoIFJ1Ynkgb24gUmFpbHMgYW5kIGhhdmUgbW92ZWQgb24gdG9cIiArXG4gICAgICAgICAgXCIgTm9kZSBhbmQgRXhwcmVzcy4gV2hhdCB5b3VcXCdyZSBsb29raW5nIGF0IHJpZ2h0IG5vdyB3YXMgYWN0dWFsbHkgYnVpbHQgd2l0aCBcIiArXG4gICAgICAgICAgXCJOb2RlIGFuZCBFeHByZXNzLCBhbmQgYSBnZW5lcm91cyBhbW91bnQgb2YgQW5ndWxhci4gQ2hlY2sgb3V0IG15IG90aGVyIHdvcmsgPGEgc3R5bGU9XFxcInRleHQtZGVjb3JhdGlvbjpub25lXFxcIiBocmVmPVxcXCIvY29kZVxcXCI+aGVyZTwvYT5cIiksXG4gICAgbGluazogXCJcIlxuICB9XTtcblxuICAkc2NvcGUuY29udGFjdEluZm9zID0gW3tcbiAgICBpZDogJ2J0bi10d2l0dGVyJyxcbiAgICBsYWJlbDogJ1RXSVRURVInLFxuICAgIHVybDogJ2h0dHBzOi8vdHdpdHRlci5jb20vYWxmcmVkYWJhYl9pbydcbiAgfSwge1xuICAgIGlkOiAnYnRuLWdpdGh1YicsXG4gICAgbGFiZWw6ICdHSVRIVUInLFxuICAgIHVybDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9hbGZyZWQnXG4gIH0sIHtcbiAgICBpZDogJ2J0bi1saW5rZWRpbicsXG4gICAgbGFiZWw6ICdMSU5LRURJTicsXG4gICAgdXJsOiAnaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL2luL2FsZnJlZGFiYWJpby9lbidcbiAgfSwge1xuICAgIGlkOiAnYnRuLWVtYWlsJyxcbiAgICBsYWJlbDogJ0VNQUlMJyxcbiAgICB1cmw6ICdtYWlsdG86YWFiYWJpbzc1QGdtYWlsLmNvbSdcbiAgfV07XG5cbiAgJHNjb3BlLmFib3V0VGV4dCA9IHsgICAgICAgICAgXG4gICAgaW50cm86IFwiSGksIElcXCdtIEFsZnJlZC5cIiwgICAgIFxuICAgIGJvZHk6ICRzY2UudHJ1c3RBc0h0bWwoXCJJXFwnbSBhIENvbXB1dGVyIFNjaWVuY2Ugc3R1ZGVudCBhdCBOb3J0aGVhc3Rlcm4sIGFuIGFtYXRldXIgcG9vbCAocG9ja2V0IGJpbGxpYXJkcykgcGxheWVyLCBcIiArIFxuICAgICAgXCJhbmQgYSBmaXJtIGJlbGlldmVyIHRoYXQgYW55b25lIGNhbiBsZWFybiB0byBkbyBhbnl0aGluZyBieSBHb29nbGluZyBpdCBsb25nIGVub3VnaC48L3A+PHA+XCIgK1xuICAgICAgXCJBbHNvLCBteSBmcmllbmRzIHRoaW5rIElcXCdtIGEgcHJldHR5IGNvb2wgZ3V5IChldmVuIHRob3VnaCB0aGV5XFwnbGwgZGVueSBpdCBhZnRlciByZWFkaW5nIHRoaXMuKVwiKSxcbiAgfTtcblxuICB2YXIgaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uKCkge1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCByZXNpemVJbWFnZXMpO1xuICAgIGlmICh3aW5kb3cuaW5uZXJXaWR0aCA8PSA3NjgpIHtcbiAgICAgIGNvbnNvbGUubG9nKCdJbiBNb2JpbGUnKTtcbiAgICAgIHdpbmRvdy5vbmxvYWQgPSByZXNpemVJbWFnZXMoKTtcbiAgICAgIHJlc2l6ZUltYWdlcygpO1xuICAgICAgY29uc29sZS5sb2coJ1Jlc2l6ZWQnKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHJlc2l6ZUltYWdlcyA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICggd2luZG93LmlubmVyV2lkdGggPiA3NjggKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBteVBpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWJvdXQgPiAuY2FyZC1pbWFnZScpO1xuICAgIHZhciBjb2RlUGljdHVyZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZXZlbG9wZXIgPiAuY2FyZC1pbWFnZScpO1xuICAgIHZhciBsb25nYm9hcmRQaWN0dXJlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvbmdib2FyZCA+IC5jYXJkLWltYWdlJyk7XG4gICAgdmFyIGNvbWljc1BpY3R1cmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY29taWNzID4gLmNhcmQtaW1hZ2UnKTtcblxuICAgIHZhciBteVJhdGlvID0gMTY1IC8gMzA0OyBcbiAgICB2YXIgY29kZVJhdGlvID0gMTI3IC8gMzA0O1xuICAgIHZhciBsb25nYm9hcmRSYXRpbyA9IDExMiAvIDMwNDtcbiAgICB2YXIgY29taWNzUmF0aW8gPSAxNTcgLyAzMDQ7XG5cbiAgICBteVBpY3R1cmUuc3R5bGUubWF4SGVpZ2h0ID0gJycgKyAoIG15UGljdHVyZS5jbGllbnRXaWR0aCAqIG15UmF0aW8gKSArJ3B4JztcbiAgICBjb2RlUGljdHVyZS5zdHlsZS5tYXhIZWlnaHQgPSAnJyArICggY29kZVBpY3R1cmUuY2xpZW50V2lkdGggKiBteVJhdGlvICkgKydweCc7XG4gICAgbG9uZ2JvYXJkUGljdHVyZS5zdHlsZS5tYXhIZWlnaHQgPSAnJyArICggbG9uZ2JvYXJkUGljdHVyZS5jbGllbnRXaWR0aCAqIG15UmF0aW8gKSArJ3B4JztcbiAgICBjb21pY3NQaWN0dXJlLnN0eWxlLm1heEhlaWdodCA9ICcnICsgKCBjb21pY3NQaWN0dXJlLmNsaWVudFdpZHRoICogbXlSYXRpbyApICsncHgnO1xuICB9O1xuXG4gIGluaXRpYWxpemUoKTtcblxufSk7XG4oZnVuY3Rpb24gKG5nKSB7XG4gICd1c2Ugc3RyaWN0JztcbiBcbiAgdmFyIGFwcCA9IG5nLm1vZHVsZSgnbmdMb2FkU2NyaXB0JywgW10pO1xuXG4gIGFwcC5kaXJlY3RpdmUoJ3NjcmlwdCcsIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICByZXN0cmljdDogJ0UnLFxuICAgICAgc2NvcGU6IGZhbHNlLFxuICAgICAgbGluazogZnVuY3Rpb24oc2NvcGUsIGVsZW0sIGF0dHIpIFxuICAgICAge1xuICAgICAgICBpZiAoYXR0ci50eXBlPT09J3RleHQvamF2YXNjcmlwdC1sYXp5JykgXG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgICAgcy50eXBlID0gXCJ0ZXh0L2phdmFzY3JpcHRcIjsgICAgICAgICAgICAgICAgXG4gICAgICAgICAgdmFyIHNyYyA9IGVsZW0uYXR0cignc3JjJyk7XG4gICAgICAgICAgaWYoc3JjIT09dW5kZWZpbmVkKVxuICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcy5zcmMgPSBzcmM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICB7XG4gICAgICAgICAgICAgIHZhciBjb2RlID0gZWxlbS50ZXh0KCk7XG4gICAgICAgICAgICAgIHMudGV4dCA9IGNvZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQocyk7XG4gICAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH0pO1xuIFxufShhbmd1bGFyKSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
